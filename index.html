<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Harvest Firearms Training | NRA Certified Courses</title>
    
    <meta name="description" content="The Harvest Firearms Training provides NRA Certified training courses including Basic Rifle, Muzzleloading, RSO, and CA DOJ FSC near Bakersfield, California. Schedule your firearm safety class today.">
    <meta name="keywords" content="NRA certified instructor, The Harvest, Christian firearm training, gun safety class, Bakersfield California, Basic Rifle, Muzzleloading, Range Safety Officer, RSO, CA DOJ FSC">
    
    <link rel="icon" type="image/png" href="inst-color.jpg">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a; 
        }
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
        }
        .marine-navy { color: #003366; }
        .marine-scarlet { color: #800000; } 
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark-text': '#e0e0e0', 
                        'accent-red': '#33FF33', 
			'accent-scarlet': '#0066CC', 
                        'marine-navy': '#003366', 
                        'light-gray-bg': '#333333', 
                        'card-bg': '#2a2a2a', 
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-[#1a1a1a] text-primary-dark-text">

    <header class="bg-marine-navy text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="#home" class="text-xl sm:text-lg font-extrabold tracking-tight whitespace-nowrap overflow-hidden">
                    The Harvest Firearms Training
                </a>

                <div class="relative">
                    <button id="dropdown-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white transition duration-150 ease-in-out">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>

                    <div id="dropdown-menu" class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card-bg ring-1 ring-white ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="dropdown-button">
                        <div class="py-1" role="none">
                            <a href="#home" class="nav-link block px-4 py-2 text-sm text-primary-dark-text hover:bg-light-gray-bg hover:text-accent-red rounded-md m-1 transition duration-150" role="menuitem">Home</a>
                            <div class="border-t border-gray-600 my-1"></div>
                            <span class="block px-4 pt-2 text-xs font-semibold text-gray-400 uppercase">Course Details</span>
                            <a href="#muzzle-loader" class="nav-link block px-4 py-2 text-sm text-primary-dark-text hover:bg-light-gray-bg hover:text-accent-red rounded-md m-1 transition duration-150" role="menuitem">NRA Muzzle Loader Course</a>
                            <a href="#rso" class="nav-link block px-4 py-2 text-sm text-primary-dark-text hover:bg-light-gray-bg hover:text-accent-red rounded-md m-1 transition duration-150" role="menuitem">NRA Range Safety Officer (RSO) Course</a>
                            <a href="#basic-rifle" class="nav-link block px-4 py-2 text-sm text-primary-dark-text hover:bg-light-gray-bg hover:text-accent-red rounded-md m-1 transition duration-150" role="menuitem">NRA Basic Rifle Course</a>
                            <a href="#fsc" class="nav-link block px-4 py-2 text-sm text-primary-dark-text hover:bg-light-gray-bg hover:text-accent-red rounded-md m-1 transition duration-150" role="menuitem">NRA Gun Safety Seminar / CA DOJ FSC Course</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="content" class="min-h-screen pt-8 pb-16 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-2xl font-bold text-center text-gray-400 mt-12">Loading...</h1>
    </main>

    <footer class="bg-marine-navy text-white text-center p-4">
        <p class="text-sm">&copy; 2015 The Harvest Firearms Training Professionals. All Rights Reserved. NRA Certified Instruction. Serving Bakersfield, California.</p>
        <p class="text-xs mt-1">If no courses are currently scheduled, please email <a href="mailto:TheHarvestFirearmsTraining@outlook.com" class="text-accent-red hover:underline font-semibold">TheHarvestFirearmsTraining@outlook.com</a> or call <a href="tel:+19495473698" class="text-accent-red hover:underline font-semibold">(949) 547-3698</a> to schedule a future course date.</p>
    </footer>

    <script>
        // --- DYNAMIC COURSE DATA ---
        const COURSE_DATA = {
            'muzzle-loader': {
                title: "NRA CO-OP Basic Muzzleloading Rifle",
                description: "This comprehensive course focuses on the safe and effective operation of pre-1900 style muzzle loading firearms. This training provides the foundational knowledge and skills necessary for safe use, handling, and maintenance of historical black powder arms.",
                price: 125,
                deposit: 50,
                logo: 'inst-color.jpg', // Instructor Logo
                secondaryLogo: '', // No secondary logo
                features: [
                    "Safety and History: In-depth classroom coverage of muzzle loader safety protocols, historical context, handling, loading, storage, and cleaning.",
                    "Blended Learning: A combination of engaging classroom instruction and practical, hands-on live-fire training at 5 Dogs Shooting Range located at 20238 Woody Rd, Bakersfield, Ca 93308.", 
                    "Professional Supervision: Instruction is provided by NRA Certified Muzzle Loader Instructors. The firing lines are supervised by certified Range Safety Officers (RSO) and Chief Range Safety Officers (CRSOs) to ensure a safe and productive learning environment."
                ],
                dates: [
		{	date: "Monday February 23, 2026 (8:00 AM)",
			link: "https://www.nrainstructors.org/CourseDetails.aspx?Courseid=893942" },
                ]
            },
            'rso': {
                title: "NRA Certified Range Safety Officer (RSO) Course",
                description: "The NRA Range Safety Officer (RSO) course is the Gold Standard of training. Learn to organize, conduct, and supervise safe shooting activities and range operations. This certification is essential for anyone responsible for the management and oversight of firing lines.",
                price: 125,
                deposit: 50,
                // PRIMARY RSO LOGO
                logo: 'rso-color.jpg', 
                // SECONDARY CRSO LOGO for side-by-side display
                secondaryLogo: 'crso-color.jpg', 
                features: [
                    "Range Safety Protocol: Learn standard operating procedures for range use, emergency procedures, and how to inspect a range for safety.",
                    "Supervision and Control: Instruction on how to safely brief shooters, manage the firing line, and correct common malfunctions and stoppages.",
                    "Certified Instruction: This course is taught directly by NRA certified Chief Range Safety Officers (CRSOs), ensuring you receive top quality instruction from certified professionals." 
                ],
                dates: [
                    
                ]
            },
            'basic-rifle': {
                title: "NRA Certified Basic Rifle Shooting Course",
                description: "The NRA Basic Rifle Course provides a foundational introduction to the safe and responsible use of a rifle. This training is essential for new rifle owners or those looking to establish a strong basis in rifle marksmanship and safety.",
                price: 150,
                deposit: 50,
                logo: 'inst-color.jpg', // Instructor Logo
                secondaryLogo: '', // No secondary logo
                features: [
                    "Comprehensive Safety: In-depth coverage of NRA rules for safe gun handling, operation, storage, and cleaning.",
                    "Rifle Fundamentals: Instruction on rifle parts, ammunition, shooting fundamentals, and basic maintenance.",
                    "Live-Fire Practice: Practical range time where students can apply classroom knowledge under the supervision of NRA Certified Firearms Instructors. The firing lines are supervised by certified NRA Range Safety Officers (RSO) and Chief Range Safety Officers (CRSOs) to ensure the highest safety standards are met. All training takes place near Bakersfield, California." 
                ],
                dates: [
				]
            },
            'fsc': {
                title: "NRA Gun Safety Seminar <br> CA DOJ FSC",
                description: "This essential Firearm Safety Course is conducted by a California Department of Justice (CA DOJ) Certified Instructor. Completion of this course, including passing the required test, allows us to issue your official Firearm Safety Certificate (FSC), which is mandatory for purchasing or transferring firearms in California. As an option you may elect to skip the instructor led training and just take the test. Study material will be available for you to review before attempting to take the test. If you elect to skip the instruction and only take the test, the Course Fee is only the $25.00 deposit.",
               

                price: 100, 
                fsc_price: {
                    test_only: 25,
                    course_only: 75,
                    course_and_test: 100
                },
                deposit: 25, 
            
                logo: '', 
                secondaryLogo: '',
                features: [
                    "Official Certification: Successfully passing the FSC test allows us to issue your valid CA DOJ Firearm Safety Certificate (FSC).",
                    "FSC Test Administration: The required 30-question, multiple-choice test is administered during the class in Lamont, CA. You may also contact our instructors to schedule a time and location that is conveinent for you to take the test (subject to instructor availability).", 
                    "Mandatory for Purchase: Certificate required by California law to purchase or acquire a handgun, rifle, or shotgun.",
                    "Expert Guidance: Instruction covering safe gun handling, storage, California-specific laws and regulations, and detailed walk throughs and demonstrations of required knowledge."
                ],
                dates: [
		{date: "Monday March 2, 2026 (12:00 PM)",
			link: "https://www.nrainstructors.org/CourseDetails.aspx?Courseid=901794"},]
            }
        };

    

        const courseCard = (routeKey) => {
            const data = COURSE_DATA[routeKey];
            const deposit = data.deposit;
            const dates = data.dates;
            
            let logoImageTag = '';
            
           
            if (routeKey === 'rso' && data.logo && data.secondaryLogo) {
                logoImageTag = `
                    <div class="flex justify-center items-center space-x-6 mb-4">
                        <img src="${data.logo}" alt="NRA Range Safety Officer Logo" class="h-48 w-auto border-2 border-accent-red rounded-lg p-1">
                        <img src="${data.secondaryLogo}" alt="NRA Chief Range Safety Officer Logo" class="h-48 w-auto border-2 border-accent-red rounded-lg p-1">
                    </div>
                `;
            } else if (data.logo) {
               
                logoImageTag = `
                    <img src="${data.logo}" alt="${data.title} Instructor Logo" class="h-48 w-auto mx-auto mb-4 border-2 border-accent-red rounded-lg p-1">
                `;
            } 
            
            const depositNote = data.price === data.deposit
                ? 'The full course fee is required upfront to secure your position.'
                : 'The remaining balance is due on the first day of the course.';

            
            let pricingContent;
            if (routeKey === 'fsc' && data.fsc_price) {
                pricingContent = `
                    <h3 class="text-xl font-bold mb-3 text-primary-dark-text">NRA Gun Safety Seminar / CA DOJ FSC Test Pricing Options:</h3>
                    <ul class="space-y-2 mb-6">
			
			<li class="text-lg font-semibold flex justify-between items-center bg-light-gray-bg p-3 rounded-lg">
                            <span>Instructor-Led Gun Safety Course & CA DOJ FSC Test</span>
                            <span class="text-primary-dark-text font-extrabold">$${data.fsc_price.course_and_test}.00</span>
                        </li>                        
			
                        <li class="text-lg font-semibold flex justify-between items-center bg-light-gray-bg p-3 rounded-lg">
                            <span>Instructor-Led Gun Safety Course Only (No Test)</span>
                            <span class="text-primary-dark-text font-extrabold">$${data.fsc_price.course_only}.00</span>
                        </li>

			<li class="text-lg font-semibold flex justify-between items-center bg-light-gray-bg p-3 rounded-lg">
                            <span>CA DOJ FSC Test Only (No Instruction)</span>
                            <span class="text-primary-dark-text font-extrabold">$${data.fsc_price.test_only}.00</span>
                        </li>

                    </ul>
                    <p class="text-sm text-gray-300">Required Deposit: <span class="font-bold text-accent-red">$${data.deposit}.00 non-refundable</span></p>
                    <p class="text-sm text-gray-400">Note: The final price will be determined based on the option you choose at registration.</p><br>
                `;
            } else {
               
                pricingContent = `
                    <div class="mb-6 space-y-2">
                        <p class="text-lg font-semibold">Course Fee: <span class="text-primary-dark-text">$${data.price}.00</span></p>
                        <p class="text-sm text-gray-300">Required Deposit: <span class="font-bold text-accent-red">$${data.deposit}.00 non-refundable</span></p>
                        <p class="text-sm text-gray-400">${depositNote}</p>
                    </div>
                `;
            }
           

            const dateContent = dates.length > 0
                ? dates.map(d => `
                    <a href="${d.link}" target="_blank" class="block text-center text-lg font-medium bg-light-gray-bg border-b-2 border-accent-red hover:bg-gray-700 text-primary-dark-text transition duration-200 p-3 rounded-md">
                        ${d.date} (Click to Register)
                    </a>
                `).join('')
                : `<p class="text-center text-xl font-bold text-accent-red py-8">
                    No dates are currently scheduled for this course. Please contact us to schedule a date for instruction! 
<br>
<br>
Phone: <a href="tel:+19495473698" class="text-center text-xl font-bold text-accent-red py-8">(949) 547-3698</a><br> or <br><a href="mailto:TheHarvestFirearmsTraining@outlook.com" class="text-center text-xl font-bold text-accent-red py-8">Email: <u>TheHarvestFirearmsTraining@outlook.com</a></u>

                    </p>`;

            return `
                <div class="max-w-4xl mx-auto">
                    <a href="#home" class="inline-flex items-center text-accent-red hover:text-white transition duration-200 mb-6 font-semibold border border-accent-red hover:bg-accent-red px-4 py-2 rounded-lg text-sm">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to All Courses
                    </a>
                    
                    <h1 class="text-4xl font-extrabold mb-8 text-center text-primary-dark-text">${data.title}</h1>
                
                    <div class="card bg-card-bg p-6 md:p-8 rounded-lg mb-8 transition duration-300 hover:shadow-xl border-t-4 border-accent-red">
                        <div class="text-center">
                            ${logoImageTag} </div>
                        <h2 class="text-2xl font-bold mb-3 text-accent-red">${data.title} Course Overview <br>Bakersfield, CA</h2> <p class="text-gray-400 mb-6">${data.description}</p>
                        
                        ${pricingContent}

                        <h3 class="text-xl font-semibold mb-3 border-b border-gray-600 pb-1 text-primary-dark-text">Course Highlights:</h3>
                        <ul class="list-disc list-inside space-y-3 pl-4 text-gray-400">
                            ${data.features.map(f => `<li class="leading-relaxed">${f}</li>`).join('')}
                        </ul>
                    </div>

                    <div id="${routeKey}-dates" class="max-w-xl mx-auto mt-12">
                        <h2 class="text-3xl font-extrabold mb-8 text-center text-primary-dark-text">Schedule and Registration</h2>
                        <p class="text-lg text-center text-gray-400 mb-8">
                            Ready to enroll? Select the date you wish to attend below. Clicking the date link will redirect you to our external registration portal to complete your enrollment.
                        </p>
                        <div class="card bg-card-bg p-6 rounded-lg shadow-lg">
                            <p class="text-center text-sm font-semibold text-accent-red mb-6">
                                Note on Deposits: A non-refundable deposit of $${deposit}.00 is required to secure your position.
                            </p>
                            <div class="space-y-4">
                                ${dateContent}
                            </div>
                        </div>
                    </div>

                    <div class="mt-16 mb-4 text-center">
                        <a href="#home" class="inline-flex items-center text-accent-red hover:text-white hover:bg-accent-red transition duration-300 font-bold px-6 py-3 rounded-full shadow-lg text-lg border-2 border-accent-red">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg>
                            Back to Main Course List                        </a>
                    </div>

                </div>
            `;
        }
      
        const contactCard = () => `
            <div class="card bg-card-bg p-6 md:p-8 rounded-lg mb-12 transition duration-300 border-t-4 border-marine-navy shadow-xl">
                <h2 class="text-2xl font-bold mb-3 text-primary-dark-text">Private & Custom Training Inquiries near Bakersfield, CA</h2> <p class="text-gray-400 mb-6 leading-relaxed">
                    If you are looking to schedule a private lesson, custom group training, or check availability for a course date not listed, please contact our team of instructors directly:
                </p>
                <div class="space-y-4">
                    <div class="flex items-center text-lg">
                        <svg class="w-6 h-6 mr-3 text-accent-red" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-9 13h9a2 2 0 002-2V7a2 2 0 00-2-2H3a2 2 0 00-2 2v10a2 2 0 002 2h9z"></path></svg>
                        <span class="font-semibold text-primary-dark-text">Email:</span>
                        <a href="mailto:TheHarvestFirearmsTraining@outlook.com" class="ml-2 text-gray-300 hover:text-accent-red transition duration-150">TheHarvestFirearmsTraining@outlook.com</a>
                    </div>
                    <div class="flex items-center text-lg">
                        <svg class="w-6 h-6 mr-3 text-accent-red" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2004/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        <span class="font-semibold text-primary-dark-text">Phone:</span>
                        <a href="tel:+19495473698" class="ml-2 text-gray-300 hover:text-accent-red transition duration-150">(949) 547-3698</a>
                    </div>
                </div>
            </div>
        `;

        const pages = {
            'home': () => `
                <div class="text-center pt-4 pb-10">
                    <h1 class="text-4xl md:text-5xl font-extrabold mb-4 text-primary-dark-text">
                        The Harvest Firearms Training
                    </h1>
                    <p class="text-xl md:text-2xl font-light text-gray-400 max-w-3xl mx-auto">
                        NRA Certified Training Courses near Bakersfield, California. Start your training today! 
                    </p>
                </div>
                
                <div class="max-w-3xl mx-auto card bg-card-bg p-8 rounded-xl border-t-4 border-marine-navy shadow-xl mb-12">
                    <div class="flex justify-center items-center space-x-6 mb-6">
                       <img src="inst-color.jpg" alt="NRA Certified Instructor Logo" class="h-48 w-auto border-2 border-accent-red rounded-lg p-1">
                        
                        <img src="crso-color.jpg" alt="NRA Chief Range Safety Officer Logo" class="h-48 w-auto border-2 border-accent-red rounded-lg p-1">
                    </div>

                    <h2 class="text-3xl font-bold text-primary-dark-text text-center mb-6">Welcome to The Harvest Firearms Training. All training is conducted near Bakersfield, Ca</h2>
                    
                    <p class="text-lg text-gray-400 mb-6 leading-relaxed">
                        Our team consists of experienced, certified professionals dedicated to teaching safe gun handling for anyone. We provide high-quality NRA-certified instruction focusing on responsibility and skill development for all experience levels, from beginners to advanced range officers. 
<br> 
<br>
The classroom instruction of our courses are conducted at the Living Waters Assembly of God Church located at <a target="_blank" href="https://www.google.com/maps/place/Living+Waters+Assembly+of+God+Church/@35.2710332,-118.9149967,17z/data=!3m1!4b1!4m6!3m5!1s0x80ea13ae79180423:0xc07135e5c6c15ee0!8m2!3d35.2710332!4d-118.9124218!16s%2Fg%2F1tdbl9bp?entry=ttu&g_ep=EgoyMDI1MTEwNS4wIKXMDSoASAFQAw%3D%3D" class="hover:text-accent-scarlet underline"> 8300 Collison St, Lamont, Ca 93241. 
</a><br> 
<br>
All live-fire training is conducted at <a target="_blank" href="https://www.5dogsrange.com/" class="hover:text-accent-scarlet underline">5 Dogs Shooting Range </a>located at <a target="_blank" href="https://www.google.com/search?q=5+dogs+range&sca_esv=247386aaf4f72303&ei=-qgSaYGtBuerptQPjtmgsAQ&gs_ssp=eJzj4tZP1zcsNy43TsouNmC0UjWosDBITbSwTDVIM0i0MEuzSLEyqDA1MDNIM0sxNkpJSjNOTjHy4jFVSMlPL1YoSsxLTwUAdfoTYg&oq=5+dogs+&gs_lp=Egxnd3Mtd2l6LXNlcnAiBzUgZG9ncyAqAggAMhEQLhiABBiSAxjHARjJAxivATILEC4YgAQYxwEYrwEyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgsQLhiABBjHARivATIgEC4YgAQYkgMYxwEYyQMYrwEYlwUY3AQY3gQY4ATYAQFI7xxQAFiSDXAAeACQAQCYAfsBoAHUCKoBBTAuNi4xuAEByAEA-AEBmAIHoAL6CcICDhAAGIAEGLEDGIMBGIoFwgIOEC4YgAQYsQMY0QMYxwHCAgsQABiABBixAxiDAcICBBAAGAPCAggQLhiABBixA8ICChAAGIAEGEMYigXCAgsQABiABBiRAhiKBcICCBAAGIAEGLEDwgIIEC4YgAQY1AKYAwC6BgYIARABGBSSBwUwLjUuMqAH9FqyBwUwLjUuMrgH-gnCBwUzLTUuMsgHjAE&sclient=gws-wiz-serp" class="hover:text-accent-scarlet underline">20238 Woody Rd, Bakersfield, Ca 93308.</a>
                    </p>
                    <h3 class="text-xl font-semibold mb-3 text-accent-red">Our Commitment to You</h3>
                    <p class="text-gray-400 leading-relaxed">
                        All courses are taught by professional, experienced NRA Certified Firearms Instructors who are committed to your education and safety. For all live-fire exercises, the firing lines are supervised by certified NRA Range Safety Officers (RSO) and Chief Range Safety Officers (CRSOs) to ensure the highest safety standards are met.
                    </p>
                </div>

                ${contactCard()}
                <div class="grid md:grid-cols-2 gap-6">
                    ${homeCourseLink('Muzzle Loader', 'muzzle-loader', 'Learn the safety, history, and marksmanship of black powder Muzzle Loading Rifles under the guidance of NRA Certified Instructors.')}
                    ${homeCourseLink('RSO', 'rso', 'Become a NRA certified Range Safety Officer.')}
                    ${homeCourseLink('Basic Rifle', 'basic-rifle', 'Foundational course for safe rifle use.')}
                    ${homeCourseLink('NRA Gun Safety / CA DOJ Firearm Safety Certificate (FSC)', 'fsc', 'Mandatory certificate for firearm purchase in California.')}
                </div>
            `,
            'muzzle-loader': () => courseCard('muzzle-loader'),
            'rso': () => courseCard('rso'),
            'basic-rifle': () => courseCard('basic-rifle'),
            'fsc': () => courseCard('fsc'),
        };
        
        function homeCourseLink(title, hash, description) {
            return `
                <a href="#${hash}" class="block bg-card-bg p-6 rounded-lg card transition duration-300 hover:bg-gray-700 hover:shadow-xl border-t-4 border-accent-red">
                    <h3 class="text-xl font-bold text-primary-dark-text mb-2">${title} Course</h3>
                    <p class="text-gray-400 text-sm mb-4">${description}</p>
                    <span class="text-accent-red font-semibold text-sm inline-flex items-center">
                        View Details & Dates
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </span>
                </a>
            `;
        }

        const contentDiv = document.getElementById('content');
        const dropdownMenu = document.getElementById('dropdown-menu');
        const dropdownButton = document.getElementById('dropdown-button');
        
     
        let navLinks = [];

      
        const toggleMenu = (isOpen) => {
            const isCurrentlyOpen = !dropdownMenu.classList.contains('hidden');
            
            if (isOpen === undefined) {
                isOpen = !isCurrentlyOpen;
            }

            if (isOpen) {
                dropdownMenu.classList.remove('hidden');
              
                if (navLinks.length > 0) {
                    navLinks[0].focus();
                }
            } else {
                dropdownMenu.classList.add('hidden');
                
                dropdownButton.focus();
            }
          
            dropdownButton.setAttribute('aria-expanded', isOpen);
        };

        const handleFocusTrap = (event) => {
            if (dropdownMenu.classList.contains('hidden')) return;

            const focusableElements = [dropdownButton, ...navLinks];
            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];

            if (event.key === 'Tab') {
                if (event.shiftKey) { // Shift + Tab
                    if (document.activeElement === firstFocusable) {
                        lastFocusable.focus();
                        event.preventDefault();
                    }
                } else { // Tab
                    if (document.activeElement === lastFocusable) {
                        firstFocusable.focus();
                        event.preventDefault();
                    }
                }
            }
            // If the escape key is pressed
            if (event.key === 'Escape') {
                toggleMenu(false);
            }
        };

        const renderPage = () => {
            let hash = window.location.hash.substring(1) || 'home';
            
            if (!pages[hash]) {
                hash = 'home';
            }

            contentDiv.innerHTML = pages[hash]();

            toggleMenu(false);
            const pageTitle = contentDiv.querySelector('h1')?.textContent || 'Home';
            document.title = `The Harvest Firearms Training | ${pageTitle.split(' | ')[0]}`;

            window.scrollTo(0, 0); 
        };


        window.addEventListener('hashchange', renderPage);

        dropdownButton.addEventListener('click', () => {
            toggleMenu();
        });

        document.addEventListener('keydown', handleFocusTrap);

        document.addEventListener('click', (event) => {
            const isClickInsideButton = dropdownButton.contains(event.target);
            const isClickInsideMenu = dropdownMenu.contains(event.target);
            
            if (!isClickInsideButton && !isClickInsideMenu && !dropdownMenu.classList.contains('hidden')) {
                toggleMenu(false);
            }
        });
        
        const initializeApp = () => {
         
            navLinks = dropdownMenu.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                  
                    const targetHash = link.getAttribute('href').substring(1);
                    window.location.hash = targetHash;
                   
                });
            });

            renderPage();
        };

        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>

</body>
</html>

























